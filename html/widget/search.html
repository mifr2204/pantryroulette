<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/stylesheet.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Poppins&family=Shantell+Sans&display=swap');
    </style>
    <script type="module" src="/js/index.js"></script>
    <title>Pantry Roulette - Search</title>
</head>
<body>
    <header>
        <div id='headimg'>
            <a href="/index.html"><img src="/images/logo.jpeg" alt="Logo roulette with food" width="100" height="100"></a>
            <a href="/index.html"><h1>Pantry <br> Roulette</h1></a>
        </div>
        <nav>
            <ul>
                <li class="navli"><a href="/index.html">Home</a></li>
                <li class="navli"><a href="/html/widget/search.html">Search</a></li>
                <li class="navli"><a href="/html/widget/roulette.html">Roulette</a></li>
                <li class="navli"><a href="/html/about.html">About</a></li>
                <li class="navli"><a href="/html/contact.html">Contact</a></li>
            </ul>
        </nav>
        <input type='button' id="menu" value="Menu" class="navli" /><br>
    </header>
    
    <main>
        <div id="img">
            <form id="form">
                <h2>SEARCH FOR DISHES</h2>
                <div class="ticboxes">
                    <label for="exact">Only use the ingredients enterd</label>
                    <input onclick="display()" type="checkbox" id="exact" name="exact"><br>
                    <div id="hide">
                        <label for="spices">include spices in search</label>
                        <input type="checkbox" id="spices" name="spices"><br>
                    </div>
                </div>
                <label for="ing">Ingredient to search for</label><br>
                <input type="text" id="ing" name="ing">
                <input type='button' onclick="addbutton()" id="add" value="Add" class="add"><br>
               
                <div id="inglist" class="inglist">
                    <input type='button' onclick="delbutton()" id="clear" value="Clear list" class="clear"><br>
                    <h2>Choosen ingredients:</h2>
                    <ul class='ingListUl' id="list"><!--Skriver ut ingredienserna-->
                        <li id="ingarr"></li>
                    </ul>
                </div><br>
                <input type='button' id="submitbtn" value="Submit" class="submit" /><br>
            </form>
            <div id ="disches">
                <button type='button' id="backbtn" class="backbtn">Back</button>
                <ol id="dishlist" class="dishlist">

                </ol>
            </div>
        </div>
    </main>
    
    <footer>
        <p>copyright@MikaelaFrendin2023</p>
    </footer>

    <script>

let ing = document.getElementById('ing');
let ingArray = localStorage.getItem('ings') ?
JSON.parse(localStorage.getItem('ings')) : [];
let ul = document.getElementById('list');


ingArray.forEach(addIng);

function addIng(text){
    
    let delbut = document.createElement('input');
    let li = document.createElement('li');
    let span = document.createElement('span');
    span.textContent = text;
    ul.appendChild(li);
    li.appendChild(span);
    li.appendChild(delbut);
    span.setAttribute("class", "spanIng")
    delbut.setAttribute("type", "button");
    delbut.setAttribute("onclick", "delone(this)");
    delbut.setAttribute("value", "remove");
    delbut.setAttribute("class", "removeOne");
};

function addbutton(){
    
    ingArray.push(ing.value);
    localStorage.setItem('ings', JSON.stringify(ingArray));
    addIng(ing.value);
    ing.value = '';
};
    function delbutton(){
    localStorage.clear();
    ul.innerHTML = '';
    ingArray = [];

};
function delone(item){
    let value = item.parentElement.querySelector('span').innerText;
    for (let i = 0; i < ingArray.length; i++) {
        if (ingArray[i] == value) {
            ingArray.splice(i, 1);
            break;
        }
    }
    localStorage.setItem('ings', JSON.stringify(ingArray));
    item.parentElement.remove();
};

function display() {
let spices = document.getElementById('spices');
let exact = document.getElementById('exact');
    if (exact.checked) {
        hide.style.display = 'block';

    }else {
        hide.style.display = 'none';

    };
};

    </script>
</body>
</html>
<!--To Do 
Fixa error när man inte fyllt i något
Error om ingrediensen är felstavad??
så man endast kan söka på specifika ingredienser eller ta bort 
----tab-ordning-
mobil
flytta script från html
kommentarer
städa kod
validera
-----kolla tillgänglighet
kolla varför den kör konstigt i serch
-----kolla färger osv
-----fixa fonter
fixa så roulette har film
så man inte kan lägga till tomma 
menyknapp- finns i index, funkar ej
tabell
driftsätt
1024 px-perfekt
Kolla varför roulette och serch inte skriver ut
redovisning
https://html.spec.whatwg.org/multipage/ start å sluttagg
reset eller normalisering
shorthands, arv, genvägar
WCAG 2.1 nivå AA
 https://www.w3.org/WAI/test-evaluate/preliminary/Links to an external site.
 wave
 Data hämtas dynamiskt ifrån ett externa API vid varje besök och presenteras för användaren på passande sätt
 I slutredovisningen (i filmen) ska du föra ett resonemang gällande din JavaScript lösning med fokus på vad som är viktigt att tänka på gällande att data nu hämtas ifrån tredje-part.
 
->

